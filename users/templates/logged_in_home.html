{% extends 'base_site.html' %}
{% load static %}
{% load i18n %}

{% block style %}
    <style>
        .gallery-container {
            display: flex;
            overflow-x: auto;
            white-space: nowrap;
            padding: 10px;
            gap: 10px;
            scroll-behavior: smooth;  /* Enables smooth scrolling */
        }

        .gallery-item {
            min-width: 150px;
            height: 100px;
            background-color: #e0e0e0;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .gallery-item:hover {
            transform: scale(1.05);  /* Adds a slight zoom effect on hover */
        }
    </style>
{% endblock %}

{% block nav %}
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav"     aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav"> 
        <ul class="navbar-nav ml-auto">
            <li class="nav-item">
                <a class="nav-link" href="{% url 'profile' request.user.username %}">Profile</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{% url 'explore' %}">Explore</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{% url 'contact' %}">Contact</a>
            </li>
            <form style="margin-top: 9px;"action="{% url 'set_language' %}" method="post">
                <input name="next" type="hidden" value="{{ redirect_to }}">
                {% csrf_token %}
                <select name="language" onchange="this.form.submit()">
                    {% get_current_language as LANGUAGE_CODE %}
                    {% get_available_languages as LANGUAGES %}
                    {% for code, name in LANGUAGES %}
                        <option style="background-color: black; font-weight: bold" value="{{ code }}" {% if code == LANGUAGE_CODE %}selected{% endif %}>
                            {{ name }}
                        </option>
                    {% endfor %}
                </select>
            </form>
        </ul>
    </div>
{% endblock %}

{% block content %}
<div class="container d-flex justify-content-center align-items-center">
    <div class="text-center" style="max-width: 600px; width: 100%;">
        <h2 class="mb-4">Welcome to your Spotify Wrapped!</h2>
    </div>
</div>
    <div>
        <a href="{% url 'new_wrap' %}" class="btn btn-primary">Generate a New Wrap</a>
    </div>
<div id="wraps">
    <div id="wraps">
    <div class="gallery-container">
        {% for wrap in wraps %}
            <a href="{% url 'wrap_detail' wrap.id %}">
                <div class="gallery-item">
                    {{ wrap.title }} - {{ wrap.created_at|date:"F Y" }}
                </div>
            </a>
        {% empty %}
            <p>No saved wraps yet. Generate a new wrap to see it here!</p>
        {% endfor %}
    </div>
</div>

</div>

    <script>
    function showDetails(monthYear) {
        
    }

    </script>
{% endblock %}